##############################################################################
# LMS — Client Environment File
# Fill every value that has  ← CHANGE
# Then paste the ENTIRE contents of this file into Dokploy → Environment tab
#
# NOTE: Razorpay & Zoom are configured inside Admin Panel after first login
#       (Settings → Payment / Zoom) — not needed here
##############################################################################

# ─── Domain ──────────────────────────────────────────────────────────────────
DOMAIN=clientdomain.com                         # ← CHANGE: client's root domain
API_SUBDOMAIN=api                               # ← CHANGE: subdomain for backend (api / auth / server / etc)

# ─── Application ─────────────────────────────────────────────────────────────
NODE_ENV=production
PORT=5000

# ─── Default Admin Login (auto-created on first start) ───────────────────────
ADMIN_EMAIL=admin@clientdomain.com              # ← CHANGE: admin login email
ADMIN_PASSWORD=                                 # ← CHANGE: strong password

# ─── Database ────────────────────────────────────────────────────────────────
DB_HOST=db
DB_PORT=3306
DB_NAME=lms_database
DB_USER=lms_user
DB_ROOT_PASSWORD=                               # ← CHANGE: any strong password
DB_PASSWORD=                                    # ← CHANGE: any strong password (different from root)

# ─── JWT — generate both with: openssl rand -hex 64 ──────────────────────────
JWT_SECRET=                                     # ← CHANGE: run openssl rand -hex 64
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=                             # ← CHANGE: run openssl rand -hex 64 (different value)
JWT_REFRESH_EXPIRES_IN=30d

# ─── AWS S3 (for video/file uploads) ─────────────────────────────────────────
AWS_ACCESS_KEY_ID=                              # ← CHANGE
AWS_SECRET_ACCESS_KEY=                          # ← CHANGE
AWS_REGION=ap-south-1                           # ← CHANGE if bucket is in different region
AWS_S3_BUCKET=                                  # ← CHANGE: S3 bucket name

# ─── Email (SendGrid) ────────────────────────────────────────────────────────
EMAIL_SERVICE=sendgrid
EMAIL_FROM=noreply@clientdomain.com             # ← CHANGE
SENDGRID_API_KEY=                               # ← CHANGE

# ─── Student Portal Routing ──────────────────────────────────────────────────
# OPTION A — student on its own subdomain:  app.clientdomain.com
#   Set STUDENT_BASE_PATH=/
#   Dokploy domain: app.clientdomain.com → student-app port 80
#   DNS: add A record  app → VPS IP
#
# OPTION B — student as a path on main domain:  clientdomain.com/app
#   Set STUDENT_BASE_PATH=/app
#   Dokploy domain: clientdomain.com → student-app port 80, PathPrefix: /app
#   DNS: no extra subdomain needed
#
STUDENT_BASE_PATH=/                             # ← CHANGE to /app for path mode

# ─── CORS — must match actual public URLs ────────────────────────────────────
# If OPTION A (subdomain):   FRONTEND_URL=https://app.clientdomain.com
# If OPTION B (path mode):   FRONTEND_URL=https://clientdomain.com
FRONTEND_URL=https://app.clientdomain.com       # ← CHANGE (see routing options above)
STUDENT_URL=https://app.clientdomain.com        # ← CHANGE: CORS origins must NOT include a path — use origin only (no /app)
ADMIN_URL=https://admin.clientdomain.com        # ← CHANGE
TEACHER_URL=https://teacher.clientdomain.com    # ← CHANGE
LANDING_URL=https://clientdomain.com            # ← CHANGE

# ─── File Upload ─────────────────────────────────────────────────────────────
MAX_FILE_SIZE=104857600                         # 100MB — change if needed
ALLOWED_FILE_TYPES=video/mp4,video/webm,application/pdf,image/jpeg,image/png
