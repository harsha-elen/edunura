##############################################################################
# LMS — Client Environment File
# Fill every value that has  ← CHANGE
# Then paste the ENTIRE contents of this file into Dokploy → Environment tab
#
# NOTE: Razorpay & Zoom are configured inside Admin Panel after first login
#       (Settings → Payment / Zoom) — not needed here
##############################################################################

# ─── Domain ──────────────────────────────────────────────────────────────────
BACKEND_URL=https://api2.appsome.site        # ← CHANGE: full URL of your backend (e.g. https://api.domain.com or https://auth.domain.com)

# ─── Application ─────────────────────────────────────────────────────────────
NODE_ENV=production
PORT=5000

# ─── Default Admin Login (auto-created on first start) ───────────────────────
ADMIN_EMAIL=admin@clientdomain.com              # ← CHANGE: admin login email
ADMIN_PASSWORD=H@rsha28TH                                 # ← CHANGE: strong password

# ─── Database ────────────────────────────────────────────────────────────────
DB_HOST=db
DB_PORT=3306
DB_NAME=lms_database
DB_USER=lms_user
DB_ROOT_PASSWORD=H@rsha28TH                               # ← CHANGE: any strong password
DB_PASSWORD=H@rsha28HV                                    # ← CHANGE: any strong password (different from root)

# ─── JWT — generate both with: openssl rand -hex 64 ──────────────────────────
JWT_SECRET=Kx8Q7sFZyRrVtN4H2pC1mE9B6o5wA0UeYqLJdXkG3M8=                                     # ← CHANGE: run openssl rand -hex 64
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=R9MZpK2f1sX8Q6A7B0nVtJH5WcUoYqL4mE3DgFhNre                            # ← CHANGE: run openssl rand -hex 64 (different value)
JWT_REFRESH_EXPIRES_IN=30d

# ─── AWS S3 (for video/file uploads) ─────────────────────────────────────────
AWS_ACCESS_KEY_ID=                              # ← CHANGE
AWS_SECRET_ACCESS_KEY=                          # ← CHANGE
AWS_REGION=ap-south-1                           # ← CHANGE if bucket is in different region
AWS_S3_BUCKET=                                  # ← CHANGE: S3 bucket name

# ─── Email (SendGrid) ────────────────────────────────────────────────────────
EMAIL_SERVICE=sendgrid
EMAIL_FROM=noreply@clientdomain.com             # ← CHANGE
SENDGRID_API_KEY=                               # ← CHANGE

# ─── Student Portal Routing ──────────────────────────────────────────────────
# OPTION A — student on its own subdomain:  app.clientdomain.com
#   Set STUDENT_TAG=latest
#   Dokploy domain: app.clientdomain.com → student-app port 80
#
# OPTION B — student as a path on main domain:  clientdomain.com/app
#   Set STUDENT_TAG=pathmode
#   Dokploy domain: clientdomain.com → student-app port 80, PathPrefix: /app
#
STUDENT_TAG=latest                              # ← CHANGE to pathmode for path mode

# ─── CORS — must match exact public URLs (no trailing slash) ─────────────────
# These control which origins the backend accepts requests from.
# Use the actual subdomain you set in Dokploy for each service.
# STUDENT_URL: for path mode (STUDENT_BASE_PATH=/app) use https://clientdomain.com
#              for subdomain mode (STUDENT_BASE_PATH=/) use https://app.clientdomain.com
STUDENT_URL=https://landing.appsome.site        # ← CHANGE: subdomain mode → app.domain.com | path mode → domain.com
ADMIN_URL=https://ad.appsome.site        # ← CHANGE: whatever subdomain you use for admin
TEACHER_URL=https://te.appsome.site    # ← CHANGE: whatever subdomain you use for teacher
LANDING_URL=https://landing.appsome.site            # ← CHANGE: root domain

# ─── File Upload ─────────────────────────────────────────────────────────────
MAX_FILE_SIZE=1073741824                          # 1GB — max size for course videos/files
ALLOWED_FILE_TYPES=video/mp4,video/webm,application/pdf,image/jpeg,image/png
